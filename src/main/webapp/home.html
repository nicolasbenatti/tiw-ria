<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>HOME PAGE</title>
</head>
<body>
	<div th:switch="${session.noLogin}">
		<h1 th:case="${true}" th:text="${errorNoLogin}" class="errorMessage">This is the error message you get if trying to access the page while not logged in</h1>
		<!-- <h1 th:text="${session.noLogin}"></h1> -->
		<div th:case="${false}" class="mainContentContainer">
			<!-- list hosted meetings -->
			<h4>Here are the meetings you hosted</h4>
			<table border ="1">
				<thead>
					<tr>
						<th>TITLE</th>
						<th>DATE</th>
						<th>TIME</th>
						<th>DURATION</th>
						<th>MAX PARTICIPANTS</th>
					</tr>
				</thead>
				
				<tbody th:remove="all-but-first">
					<tr th:each="meeting : ${hostedMeetings}">
						<td th:text="${meeting.title}">CIAO</td>
						<td th:text="${meeting.date}">CIAO</td>
						<td th:text="${meeting.time}">CIAO</td>
						<td th:text="${meeting.duration}">CIAO</td>
						<td th:text="${meeting.maxParticipants}">10</td>
					</tr>
					
					<tr>
						<td>BYE</td>
						<td>BYE</td>
						<td>BYE</td>
						<td>BYE</td>
						<td>15</td>
					</tr>
				</tbody>
			</table>
			
			<!-- list meetings to attend -->
			<h4>Here are the meetings you have been invited to</h4>
			<table border ="1">
				<thead>
					<tr>
						<th>TITLE</th>
						<th>DATE</th>
						<th>TIME</th>
						<th>DURATION</th>
					</tr>
				</thead>
				<tbody th:remove="all-but-first">
					<tr th:each="meeting : ${meetingsToAttend}">
						<td th:text="${meeting.title}">CIAO</td>
						<td th:text="${meeting.date}">CIAO</td>
						<td th:text="${meeting.time}">CIAO</td>
						<td th:text="${meeting.duration}">CIAO</td>
					</tr>
					<tr>
						<td>BYE</td>
						<td>BYE</td>
						<td>BYE</td>
						<td>BYE</td>
					</tr>
				</tbody>
			</table>
			
			<h4>Create a new meeting</h4>
			<form id="createMeetingForm" method="POST" action="createMeeting">
				Title <input type="text" name="meetingTitle" required/><br>
				Date <input type="date" name="meetingDate" required/><br>
				At <input type="time" name="meetingTime" th:attr="min=${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" placeholder="yyyy-mm-dd" required/><br>
				Duration <input type="time" name="meetingDuration" step="1" required/><br>
				Participants limit <input type="number" name="maxParticipants" required/><br>
				<input type="submit"/> 
			</form>
			<span th:text="${errorMsg}"> missing fields message goes here </span> <br>
			<a href="logout">LOGOUT</a>
		</div>
	</div>
</body>
</html>